<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>StackedTrack class and methods — StackedTrack-class • Gviz</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="StackedTrack class and methods — StackedTrack-class"><meta property="og:description" content="The virtual parent class for all track types in the Gviz package which
contain potentially overlapping annotation items that have to be stacked
when plotted."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Gviz</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.43.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/Gviz.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ivanek/Gviz/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>StackedTrack class and methods</h1>
    <small class="dont-index">Source: <a href="https://github.com/ivanek/Gviz/blob/HEAD/R/StackedTrack-class.R" class="external-link"><code>R/StackedTrack-class.R</code></a></small>
    <div class="hidden name"><code>StackedTrack-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The virtual parent class for all track types in the Gviz package which
contain potentially overlapping annotation items that have to be stacked
when plotted.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre><code># S4 method for StackedTrack
initialize(.Object, stacking, ...)

# S4 method for StackedTrack
stacking(GdObject)

# S4 method for StackedTrack,character
stacking(GdObject) &lt;- value

# S4 method for StackedTrack
stacks(GdObject)

# S4 method for StackedTrack
setStacks(GdObject, ...)

# S4 method for StackedTrack
consolidateTrack(GdObject, ...)

# S4 method for StackedTrack,ANY,ANY,ANY
[(x, i, j, ..., drop = TRUE)

# S4 method for StackedTrack
subset(x, from = NULL, to = NULL, sort = FALSE, stacks = FALSE, ...)

# S4 method for StackedTrack
drawGD(GdObject, ...)</code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.Object</dt>
<dd><p>.Object</p></dd>


<dt>stacking</dt>
<dd><p>stacking</p></dd>


<dt>...</dt>
<dd><p>Additional arguments.</p></dd>


<dt>GdObject</dt>
<dd><p>Object of <code>GdObject-class</code>.</p></dd>


<dt>value</dt>
<dd><p>Value to be set.</p></dd>


<dt>x</dt>
<dd><p>A valid track object class name, or the object itself, in which
case the class is derived directly from it.</p></dd>


<dt>i</dt>
<dd><p>Numeric scalar, index to subset.</p></dd>


<dt>j</dt>
<dd><p>Numeric scalar, index to subset. Ignored.</p></dd>


<dt>drop</dt>
<dd><p><code>logical</code>, indicating if levels that do not occur should be dropped (if <code>f</code> is a factor).</p></dd>


<dt>from, to</dt>
<dd><p>Numeric scalar, giving the range of genomic coordinates to
limit the tracks in. Note that <code>to</code> cannot be larger than <code>from.</code></p></dd>


<dt>sort</dt>
<dd><p><code>logical</code>.</p></dd>


<dt>stacks</dt>
<dd><p><code>logical</code>. Set if stacking should  be preserved.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A virtual Class: No objects may be created from it.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>initialize(StackedTrack)</code>: Initialize.</p></li>
<li><p><code>stacking(StackedTrack)</code>: return the current stacking type.</p></li>
<li><p><code>stacking(GdObject = StackedTrack) &lt;- value</code>: set the object's stacking type to one in
<code>c(hide, dense, squish, pack,full)</code>.</p></li>
<li><p><code>stacks(StackedTrack)</code>: return the stack indices for each track item.</p></li>
<li><p><code>setStacks(StackedTrack)</code>: recompute the stacks based on the available
space and on the object's track items and stacking settings.</p></li>
<li><p><code>consolidateTrack(StackedTrack)</code>: Consolidate.
a display parameter)</p></li>
<li><p><code>x[i</code>: subset the items in the <code>StackedTrack</code> object.
This is essentially similar to subsetting of the <code>GRanges</code> object in the
range slot. For most applications, the subset method may be more appropriate.</p></li>
<li><p><code>subset(StackedTrack)</code>: subset a <code>StackedTrack</code> by coordinates and sort if necessary.</p></li>
<li><p><code>drawGD(StackedTrack)</code>: plot the object to a graphics device.
The return value of this method is the input object, potentially updated
during the plotting operation. Internally, there are two modes in which
the method can be called. Either in 'prepare' mode, in which case no
plotting is done but the stacking information is updated based on the
available space, or in 'plotting' mode, in which case the actual graphical
output is created. Note that the method for this particular subclass is
usually called through inheritance and not particularly useful on its own.</p></li>
</ul></div>
    <div id="slots">
    <h2>Slots</h2>
    

<dl><dt><code>dp</code></dt>
<dd><p>Object of <code>DisplayPars-class</code>, the display settings controlling the
look and feel of a track. See settings for details on setting graphical
parameters for tracks.</p></dd>


<dt><code>name</code></dt>
<dd><p>Object of class <code>character</code>, a human-readable name for the track
that will be used in the track's annotation panel if necessary.</p></dd>


<dt><code>imageMap</code></dt>
<dd><p>Object of <code>ImageMap-class</code>, containing optional information
for an HTML image map. This will be created by the <code>drawGD</code> methods when the
track is plotted to a device and is usually not set by the user.</p></dd>


<dt><code>range</code></dt>
<dd><p>Object of class <code>GRanges</code>, the genomic ranges of the track items
as well as additional annotation information in its <code>elementMetaData</code> slot.
Please not that the slot is actually implemented as a class union between
<code>GRanges</code> and IRanges to increase efficiency, for instance for DataTrack
objects. This usually does not concern the user.</p></dd>


<dt><code>chromosome</code></dt>
<dd><p>Object of class <code>character</code>, the chromosome on which the
track is defined. There can only be a single chromosome for one track. For
certain subclasses, the space of allowed chromosome names is limited (e.g.,
only those chromosomes that exist for a particular genome). Throughout the
package, chromosome name have to be entered either as a single integer scalar
or as a character scalar of the form chrXYZ, where XYZ may be an arbitrary
character string.</p></dd>


<dt><code>genome</code></dt>
<dd><p>Object of class <code>character</code>, the genome for which the track is
defined. For most sub-classes this has to be valid UCSC genome identifier,
however this may not always be formally checked upon object instantiation.</p></dd>


<dt><code>stacking</code></dt>
<dd><p>Object of class <code>character</code>, the stacking type of overlapping
items on the final plot. One in <code>c(hide, dense, squish, pack,full)</code>.
Currently, only <code>hide</code> (do not show the track items at all), <code>squish</code> (make
best use of the available space) and <code>dense</code> (no stacking at all) are
implemented.</p></dd>


<dt><code>stacks</code></dt>
<dd><p>Object of class <code>numeric</code>, holding the stack indices for each
track item. This slot is usually populated by calling the <code>setStacks</code> method
upon plotting, since the correct stacking is a function of the available
plotting space.</p></dd>


</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="DisplayPars-class.html">DisplayPars</a></code></p>
<p><code><a href="GdObject-class.html">GdObject</a></code></p>
<p><code><a href="https://rdrr.io/pkg/GenomicRanges/man/GRanges-class.html" class="external-link">GRanges</a></code></p>
<p><code><a href="HighlightTrack-class.html">HighlightTrack</a></code></p>
<p><code><a href="ImageMap-class.html">ImageMap</a></code></p>
<p><code><a href="https://rdrr.io/pkg/IRanges/man/IRanges-class.html" class="external-link">IRanges</a></code></p>
<p><code><a href="RangeTrack-class.html">RangeTrack</a></code></p>
<p><code><a href="DataTrack-class.html">DataTrack</a></code></p>
<p><code><a href="collapsing.html">collapsing</a></code></p>
<p><code><a href="grouping.html">grouping</a></code></p>
<p><code><a href="https://rdrr.io/pkg/lattice/man/panel.functions.html" class="external-link">panel.grid</a></code></p>
<p><code><a href="plotTracks.html">plotTracks</a></code></p>
<p><code><a href="settings.html">settings</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Florian Hahne</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## This is a reference class therefore we show below</span></span></span>
<span class="r-in"><span><span class="co">## an example from AnnotationTrack</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## An empty object</span></span></span>
<span class="r-in"><span><span class="fu"><a href="AnnotationTrack-class.html">AnnotationTrack</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AnnotationTrack 'AnnotationTrack'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | genome: NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | active chromosome: chrNA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | annotation features: 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Construct from individual arguments</span></span></span>
<span class="r-in"><span><span class="va">st</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2000000</span>, <span class="fl">2070000</span>, <span class="fl">2100000</span>, <span class="fl">2160000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2050000</span>, <span class="fl">2130000</span>, <span class="fl">2150000</span>, <span class="fl">2170000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">str</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="st">"+"</span>, <span class="st">"-"</span>, <span class="st">"-"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Group1"</span>, <span class="st">"Group2"</span>, <span class="st">"Group1"</span>, <span class="st">"Group3"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">annTrack</span> <span class="op">&lt;-</span> <span class="fu"><a href="AnnotationTrack-class.html">AnnotationTrack</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    start <span class="op">=</span> <span class="va">st</span>, end <span class="op">=</span> <span class="va">ed</span>, strand <span class="op">=</span> <span class="va">str</span>, chromosome <span class="op">=</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>    genome <span class="op">=</span> <span class="st">"hg19"</span>, feature <span class="op">=</span> <span class="st">"test"</span>, group <span class="op">=</span> <span class="va">gr</span>,</span></span>
<span class="r-in"><span>    id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"annTrack item"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"generic annotation"</span>, stacking <span class="op">=</span> <span class="st">"squish"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># \dontshow{</span></span></span>
<span class="r-in"><span><span class="co">## For some annoying reason the postscript device does not know about</span></span></span>
<span class="r-in"><span><span class="co">## the sans font</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">font</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/ps.options.html" class="external-link">ps.options</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">family</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="DisplayPars-class.html">displayPars</a></span><span class="op">(</span><span class="va">annTrack</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fontfamily <span class="op">=</span> <span class="va">font</span>, fontfamily.title <span class="op">=</span> <span class="va">font</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Plotting</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotTracks.html">plotTracks</a></span><span class="op">(</span><span class="va">annTrack</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="StackedTrack-class-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Stacking</span></span></span>
<span class="r-in"><span><span class="fu"><a href="GdObject-class.html">stacking</a></span><span class="op">(</span><span class="va">annTrack</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "squish"</span>
<span class="r-in"><span><span class="fu"><a href="GdObject-class.html">stacking</a></span><span class="op">(</span><span class="va">annTrack</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"dense"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotTracks.html">plotTracks</a></span><span class="op">(</span><span class="va">annTrack</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="StackedTrack-class-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Florian Hahne, Steffen Durinck, Robert Ivanek, Arne Mueller, Steve Lianoglou, Ge Tan, Lance Parsons, Shraddha Pai.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

